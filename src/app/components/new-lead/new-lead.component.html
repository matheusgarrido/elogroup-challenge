<app-header></app-header>
<main>
  <h3>Novo Lead</h3>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
      <label>
        Nome *
        <input formControlName="name" type="text" />
      </label>
      <label>
        Telefone *
        <input formControlName="phone" type="tel" />
      </label>
      <label>
        E-mail *
        <input formControlName="email" />
      </label>
    </div>
    <div>
      <label>Oportunidades *</label>
      <table>
        <thead>
          <tr>
            <th>
              <input type="checkbox" id="ckbAll" (change)="checkAllEvent()" />
            </th>
            <th><label for="ckbAll"></label></th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let item of opportunities; let i = index"
            formArrayName="opportunities"
          >
            <td>
              <input
                type="checkbox"
                id="ckb{{ i }}"
                (change)="(VerifyChecks)"
                [formControlName]="i"
              />
            </td>
            <td>
              <label for="ckb{{ i }}">{{ item }}</label>
            </td>
          </tr>
        </tbody>
      </table>
      <span class="btn">
        <button
          mat-raised-button
          color="primary"
          id="btn-save"
          type="submit"
          [disabled]="form.status === 'INVALID' || !VerifyHasChecked"
        >
          Salvar
        </button>
      </span>
    </div>
  </form>
  <a routerLink="" id="finish">
    <button mat-raised-button color="" id="btn-save">Voltar</button>
  </a>
</main>
